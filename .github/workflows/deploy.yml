# yaml-language-server: $schema=https://json.schemastore.org/github-workflow.json
# ì›Œí¬í”Œë¡œ ì´ë¦„: ëª¨ë…¸ë ˆí¬ í†µí•© ë°°í¬
name: ëª¨ë…¸ë ˆí¬ í†µí•© ë°°í¬

# íŠ¸ë¦¬ê±° ì„¤ì •: main ë¸Œëœì¹˜ì— push ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì›Œí¬í”Œë¡œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
on:
  push:
    branches:
      - main

#ï¸âƒ£ [ì¶”ê°€] ìµœìƒë‹¨ ê¶Œí•œì„ ëª…ì‹œ (jobë³„ ê¶Œí•œë³´ë‹¤ ëª…í™•)
permissions:
  contents: read
  pages: write
  id-token: write

#ï¸âƒ£ [ì¶”ê°€] Pages ë°°í¬ëŠ” ë™ì‹œ ì‹¤í–‰ë³´ë‹¤ ì§ì „ ì‹¤í–‰ ì·¨ì†Œê°€ ì•ˆì „
concurrency:
  group: 'pages'
  cancel-in-progress: true

# ì‹¤í–‰ë  ì‘ì—…(Job)ë“¤ì„ ì •ì˜í•©ë‹ˆë‹¤.
jobs:
  # 'changes' ì‘ì—…: ì–´ë–¤ íŒ¨í‚¤ì§€(app, brief)ì— ë³€ê²½ì´ ìˆì—ˆëŠ”ì§€ ê°ì§€í•©ë‹ˆë‹¤.
  changes:
    # ì‹¤í–‰ í™˜ê²½: ìµœì‹  ë²„ì „ì˜ Ubuntuì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.
    name: ë³€ê²½ ì‚¬í•­ ê°ì§€
    runs-on: ubuntu-latest
    # ì¶œë ¥(outputs): ì´ ì‘ì—…ì˜ ê²°ê³¼ë¥¼ ë‹¤ë¥¸ ì‘ì—…ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.
    outputs:
      app: ${{ steps.filter.outputs.app }}
      brief: ${{ steps.filter.outputs.brief }}
    # ë‹¨ê³„(steps): ì‹¤ì œ ì‘ì—…ë“¤ì´ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.
    steps:
      # 1ë‹¨ê³„: ì½”ë“œ ì²´í¬ì•„ì›ƒ
      # actions/checkout@v4 ì•¡ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì €ì¥ì†Œì˜ ì½”ë“œë¥¼ ì›Œí¬í”Œë¡œ ì‹¤í–‰ í™˜ê²½ìœ¼ë¡œ ê°€ì ¸ì˜µë‹ˆë‹¤.
      - name: ì €ì¥ì†Œ ì½”ë“œ ì²´í¬ì•„ì›ƒ
        uses: actions/checkout@v4

      # 2ë‹¨ê³„: ë³€ê²½ëœ íŒŒì¼ ê²½ë¡œ í•„í„°ë§
      # dorny/paths-filter@v2 ì•¡ì…˜ì„ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ê²½ë¡œì˜ íŒŒì¼ ë³€ê²½ ì—¬ë¶€ë¥¼ ê°ì§€í•©ë‹ˆë‹¤.
      # 'app'ê³¼ 'brief' ë‘ ê°œì˜ í•„í„°ë¥¼ ì •ì˜í•˜ì—¬ ê° íŒ¨í‚¤ì§€ ë””ë ‰í† ë¦¬ì˜ ë³€ê²½ì„ ì¶”ì í•©ë‹ˆë‹¤.
      - name: ë³€ê²½ëœ íŒŒì¼ ê²½ë¡œ í•„í„°ë§
        uses: dorny/paths-filter@v2
        id: filter
        with:
          filters: |
            app:
              - 'packages/forgeline-app/**'
            brief:
              - 'packages/forgeline-brief/**'

  # 'build-and-deploy' ì‘ì—…: ì½”ë“œë¥¼ ë¹Œë“œí•˜ê³  GitHub Pagesì— ë°°í¬í•©ë‹ˆë‹¤.
  build-and-deploy:
    name: ë¹Œë“œ ë° ë°°í¬
    # ì˜ì¡´ì„± ì„¤ì •: 'changes' ì‘ì—…ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì–´ì•¼ ì´ ì‘ì—…ì„ ì‹œì‘í•©ë‹ˆë‹¤.
    needs: changes
    # ì‹¤í–‰ ì¡°ê±´: ì•„ë˜ ì¡°ê±´ ì¤‘ í•˜ë‚˜ë¼ë„ ì°¸ì¼ ë•Œ ì‘ì—…ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
    # 1. ì»¤ë°‹ ë©”ì‹œì§€ì— [no-deploy] íƒœê·¸ê°€ ì—†ì„ ê²ƒ
    # 2. AND (
    #      'app' ë˜ëŠ” 'brief' íŒ¨í‚¤ì§€ì— ë³€ê²½ì´ ìˆì—ˆê±°ë‚˜,
    #      OR ì»¤ë°‹ ë©”ì‹œì§€ì— [deploy:...] íƒœê·¸ê°€ í¬í•¨ë˜ì–´ ìˆ˜ë™ ë°°í¬ê°€ ìš”ì²­ë˜ì—ˆì„ ê²½ìš°
    #    )
    if: |
      !contains(github.event.head_commit.message, '[no-deploy]') &&
      (needs.changes.outputs.app == 'true' || needs.changes.outputs.brief == 'true' || contains(github.event.head_commit.message, '[deploy:'))
    # ì‹¤í–‰ í™˜ê²½: ìµœì‹  ë²„ì „ì˜ Ubuntuì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.
    runs-on: ubuntu-latest
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    # ê¶Œí•œ ì„¤ì •: ì›Œí¬í”Œë¡œê°€ GitHub APIì™€ ìƒí˜¸ì‘ìš©í•˜ëŠ” ë° í•„ìš”í•œ ê¶Œí•œì„ ë¶€ì—¬í•©ë‹ˆë‹¤.
    permissions:
      contents: read # ì €ì¥ì†Œ ì»¨í…ì¸ ë¥¼ ì½ê¸° ìœ„í•œ ê¶Œí•œ
      pages: write # GitHub Pagesì— ì“°ê¸° ìœ„í•œ ê¶Œí•œ
      id-token: write # OIDC(OpenID Connect) í† í°ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ê¶Œí•œ

    # ë‹¨ê³„(steps): ì‹¤ì œ ì‘ì—…ë“¤ì´ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.
    steps:
      # 1ë‹¨ê³„: ì½”ë“œ ì²´í¬ì•„ì›ƒ
      - name: ì €ì¥ì†Œ ì½”ë“œ ì²´í¬ì•„ì›ƒ
        uses: actions/checkout@v4

      # 2ë‹¨ê³„: pnpm ì„¤ì¹˜
      # pnpm/action-setup@v3 ì•¡ì…˜ì„ ì‚¬ìš©í•˜ì—¬ pnpm íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.
      - name: pnpm ì„¤ì¹˜
        uses: pnpm/action-setup@v3
        with:
          version: latest # í•­ìƒ ìµœì‹  ë²„ì „ì˜ pnpmì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

      # 3ë‹¨ê³„: Node.js ì„¤ì¹˜
      # âš ï¸ Node 18ì€ oxc-parserì˜ prebuildê°€ ì œê³µë˜ì§€ ì•Šì•„ CI í™˜ê²½ì—ì„œ ë„¤ì´í‹°ë¸Œ ë°”ì¸ë”©ì„ ì°¾ì§€ ëª»í•¨.
      # Node 22.x LTSë¡œ ì˜¬ë¦¬ë©´ prebuildê°€ ìë™ ë‹¤ìš´ë¡œë“œë˜ì–´ ë¹Œë“œ ì‹¤íŒ¨ê°€ ì‚¬ë¼ì§‘ë‹ˆë‹¤.
      - name: Node.js ì„¤ì¹˜ (22.x ë²„ì „)
        uses: actions/setup-node@v4
        with:
          node-version: '22' # âœ… Node.js 22 ë²„ì „ì„ ì‚¬ìš©í•©ë‹ˆë‹¤ (oxc-parser í˜¸í™˜ì„± ê°œì„ ).

      # 4ë‹¨ê³„: pnpm ìºì‹œ ë³µì›
      # actions/cache@v3 ì•¡ì…˜ì„ ì‚¬ìš©í•˜ì—¬ pnpm ì €ì¥ì†Œ ìºì‹œë¥¼ ë³µì›í•©ë‹ˆë‹¤.
      # ì˜ì¡´ì„± ì„¤ì¹˜ ì‹œê°„ì„ ë‹¨ì¶•í•˜ì—¬ ë¹Œë“œ ì†ë„ë¥¼ í–¥ìƒì‹œí‚µë‹ˆë‹¤.
      - name: pnpm ì˜ì¡´ì„± ìºì‹œ ë³µì›
        uses: actions/cache@v3
        with:
          path: ~/.pnpm-store # ìºì‹œí•  pnpm ì €ì¥ì†Œ ê²½ë¡œ
          key: ${{ runner.os }}-pnpm-${{ hashFiles('**/pnpm-lock.yaml') }} # ìºì‹œ í‚¤: OSì™€ pnpm-lock.yaml íŒŒì¼ í•´ì‹œë¥¼ ì¡°í•©í•˜ì—¬ ìƒì„±
          restore-keys: |
            ${{ runner.os }}-pnpm-

      # 5ë‹¨ê³„: ë¹Œë“œì— í•„ìš”í•œ ì‹œìŠ¤í…œ ì˜ì¡´ì„± ì„¤ì¹˜
      # 'node-gyp'ì™€ ê°™ì€ ë„¤ì´í‹°ë¸Œ ëª¨ë“ˆ ë¹Œë“œì— í•„ìš”í•œ build-essential, python3 ë“±ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.
      - name: ë¹Œë“œ í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜ (build-essential, python)
        run: sudo apt-get update && sudo apt-get install -y build-essential python3 python-is-python3

      # 6ë‹¨ê³„: Rust íˆ´ì²´ì¸ ì„¤ì¹˜
      # Rust ê¸°ë°˜ì˜ ë¹Œë“œ ë„êµ¬(ì˜ˆ: SWC)ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ Rust ì•ˆì •í™” ë²„ì „ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.
      - name: Rust íˆ´ì²´ì¸ ì„¤ì¹˜
        uses: dtolnay/rust-toolchain@stable
        with:
          toolchain: stable

      # 7ë‹¨ê³„: ì»¤ë°‹ ë©”ì‹œì§€ì—ì„œ ë°°í¬ ëŒ€ìƒ íŒŒì‹±
      # ì»¤ë°‹ ë©”ì‹œì§€ì— í¬í•¨ëœ [deploy:target] íƒœê·¸ë¥¼ ë¶„ì„í•˜ì—¬ ìˆ˜ë™ ë°°í¬ ëŒ€ìƒì„ ì¶”ì¶œí•©ë‹ˆë‹¤.
      # ê²°ê³¼ëŠ” 'targets'ë¼ëŠ” outputìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤.
      - name: ì»¤ë°‹ ë©”ì‹œì§€ì—ì„œ ë°°í¬ ëŒ€ìƒ ì¶”ì¶œ
        id: deploy_targets
        run: |
          MESSAGE="${{ github.event.head_commit.message }}"
          if [[ $MESSAGE =~ \[deploy:([^\]]+)\] ]]; then
            TARGETS="${BASH_REMATCH[1]}"
            echo "targets=$TARGETS" >> $GITHUB_OUTPUT
          else
            echo "targets=" >> $GITHUB_OUTPUT
          fi

      # 8ë‹¨ê³„: ì‘ì—… ê³µê°„ ì •ë¦¬
      # ì´ì „ ë¹Œë“œì—ì„œ ë‚¨ì•˜ì„ ìˆ˜ ìˆëŠ” node_modules ë””ë ‰í† ë¦¬ë¥¼ ëª¨ë‘ ì‚­ì œí•˜ì—¬ ê¹¨ë—í•œ ìƒíƒœì—ì„œ ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.
      - name: ê¸°ì¡´ node_modules ë””ë ‰í† ë¦¬ ì •ë¦¬
        run: |
          rm -rf node_modules
          find . -name "node_modules" -type d -prune -exec rm -rf '{}' +

      # 9ë‹¨ê³„: ì˜ì¡´ì„± ì„¤ì¹˜ (ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ í—ˆìš©)
      # âš ï¸ --ignore-scripts ì˜µì…˜ì´ postinstall ë¹Œë“œ(íŠ¹íˆ oxc-parser ë„¤ì´í‹°ë¸Œ ëª¨ë“ˆ)ë¥¼ ë§‰ê³  ìˆì—ˆìŠµë‹ˆë‹¤.
      # ì œê±°í•˜ì—¬ oxc-parserê°€ ì •ìƒì ìœ¼ë¡œ .node ë°”ì´ë„ˆë¦¬ë¥¼ ë¹Œë“œí•˜ë„ë¡ ìˆ˜ì •í•©ë‹ˆë‹¤.
      - name: pnpm ì˜ì¡´ì„± ì„¤ì¹˜
        run: |
          pnpm install --frozen-lockfile
          echo "âœ… Dependencies installed successfully (scripts enabled)."

      # 9.5ë‹¨ê³„: oxc-parser ë„¤ì´í‹°ë¸Œ ë¹Œë“œ ê²€ì¦
      # ğŸ§© ì¶”ê°€ëœ ë””ë²„ê·¸ ìŠ¤í…: oxc-parserì˜ ë„¤ì´í‹°ë¸Œ ë°”ì¸ë”©(.node íŒŒì¼)ì´ ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
      # CI í™˜ê²½ì—ì„œ ëˆ„ë½ë  ê²½ìš° ë°”ë¡œ ë¡œê·¸ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      - name: oxc-parser ë„¤ì´í‹°ë¸Œ ë¹Œë“œ ê²€ì¦
        run: |
          echo "ğŸ” Checking oxc-parser native build..."
          find node_modules/.pnpm/oxc-parser@*/node_modules/oxc-parser/src-js -type f -name "*.node" || echo "âš ï¸ No .node binary found (check postinstall build)"

      # 10ë‹¨ê³„: oxc-parser ê°•ì œ ì¬ë¹Œë“œ
      # íŠ¹ì • ë„¤ì´í‹°ë¸Œ ì˜ì¡´ì„±(oxc-parser)ì— ë¬¸ì œê°€ ìˆì„ ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ ê°•ì œë¡œ ì¬ë¹Œë“œí•©ë‹ˆë‹¤.
      - name: oxc-parser ê°•ì œ ì¬ë¹Œë“œ
        run: |
          pnpm rebuild oxc-parser
          echo "âœ… oxc-parser rebuild complete."

      # 11ë‹¨ê³„: Nuxt prepare ìˆ˜ë™ ì‹¤í–‰
      # Nuxt í”„ë¡œì íŠ¸ì˜ íƒ€ì… ìë™ ìƒì„±ì„ ìœ„í•´ 'nuxt prepare' ëª…ë ¹ì–´ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.
      - name: Nuxt íƒ€ì… ìë™ ìƒì„± (prepare)
        run: |
          pnpm -r exec nuxt prepare
          echo "âœ… Nuxt prepare completed manually."

      # 12ë‹¨ê³„: ìµœì¢… ë°°í¬ë¬¼ì„ ë‹´ì„ staging ë””ë ‰í„°ë¦¬ ìƒì„±
      # ë¹Œë“œëœ ê²°ê³¼ë¬¼ë“¤ì„ í•œ ê³³ì— ëª¨ìœ¼ê¸° ìœ„í•œ 'staging' ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
      - name: ìµœì¢… ë°°í¬ ê²°ê³¼ë¬¼ì„ ë‹´ì„ 'staging' ë””ë ‰í† ë¦¬ ìƒì„±
        run: mkdir -p staging

      # 13ë‹¨ê³„: ë£¨íŠ¸ index.html ë³µì‚¬
      # í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìˆëŠ” index.html (GitHub Pages ëœë”© í˜ì´ì§€)ì„ staging ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤.
      - name: ë£¨íŠ¸ index.htmlì„ 'staging'ìœ¼ë¡œ ë³µì‚¬
        run: cp index.html staging/

      # -------------------------------------------------------------
      # forgeline-brief ë¹Œë“œ ë° ë³µì‚¬
      # -------------------------------------------------------------
      # 14ë‹¨ê³„: forgeline-brief ë¹Œë“œ
      # 'brief' íŒ¨í‚¤ì§€ì— ë³€ê²½ì´ ìˆì—ˆê±°ë‚˜, ì»¤ë°‹ ë©”ì‹œì§€ì— 'forgeline-brief' ë˜ëŠ” 'all' ë°°í¬ê°€ ëª…ì‹œëœ ê²½ìš°ì—ë§Œ ì‹¤í–‰ë©ë‹ˆë‹¤.
      - name: forgeline-brief íŒ¨í‚¤ì§€ ë¹Œë“œ
        if: needs.changes.outputs.brief == 'true' || contains(steps.deploy_targets.outputs.targets, 'forgeline-brief') || contains(steps.deploy_targets.outputs.targets, 'all')
        run: |
          echo "ğŸš€ Building forgeline-brief..."
          pnpm --filter forgeline-brief generate
          echo "âœ… forgeline-brief build complete."

      # 15ë‹¨ê³„: forgeline-brief ê²°ê³¼ë¬¼ ë³µì‚¬
      # ë¹Œë“œëœ 'forgeline-brief'ì˜ ê²°ê³¼ë¬¼ì„ 'staging/forgeline-brief' ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤.
      # Nuxt ë²„ì „ì—…ì— ë”°ë¥¸ ì¶œë ¥ ê²½ë¡œ ë³€ê²½(_nuxt)ì— ëŒ€ë¹„í•˜ì—¬ fallback ê²½ë¡œë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.
      - name: forgeline-brief ë¹Œë“œ ê²°ê³¼ë¬¼ì„ 'staging'ìœ¼ë¡œ ë³µì‚¬
        if: needs.changes.outputs.brief == 'true' || contains(steps.deploy_targets.outputs.targets, 'forgeline-brief') || contains(steps.deploy_targets.outputs.targets, 'all')
        run: |
          mkdir -p staging/forgeline-brief
          cp -r packages/forgeline-brief/.output/public/* staging/forgeline-brief/ \
          || cp -r packages/forgeline-brief/.output/public/_nuxt/* staging/forgeline-brief/
          echo "ğŸ“¦ forgeline-brief copied to staging."

      # -------------------------------------------------------------
      # forgeline-app ë¹Œë“œ ë° ë³µì‚¬ (Nuxt4 SSG)
      # -------------------------------------------------------------
      # 16ë‹¨ê³„: forgeline-app ë¹Œë“œ
      # 'app' íŒ¨í‚¤ì§€ì— ë³€ê²½ì´ ìˆì—ˆê±°ë‚˜, ì»¤ë°‹ ë©”ì‹œì§€ì— 'forgeline-app' ë˜ëŠ” 'all' ë°°í¬ê°€ ëª…ì‹œëœ ê²½ìš°ì—ë§Œ ì‹¤í–‰ë©ë‹ˆë‹¤.
      - name: forgeline-app íŒ¨í‚¤ì§€ ë¹Œë“œ
        if: needs.changes.outputs.app == 'true' || contains(steps.deploy_targets.outputs.targets, 'forgeline-app') || contains(steps.deploy_targets.outputs.targets, 'all')
        run: |
          echo "ğŸš€ Building forgeline-app..."
          pnpm --filter forgeline-app generate
          echo "âœ… forgeline-app build complete."

      # 17ë‹¨ê³„: forgeline-app ê²°ê³¼ë¬¼ ë³µì‚¬
      # ë¹Œë“œëœ 'forgeline-app'ì˜ ê²°ê³¼ë¬¼ì„ 'staging/forgeline-app' ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤.
      # Nuxt ë²„ì „ì—…ì— ë”°ë¥¸ ì¶œë ¥ ê²½ë¡œ ë³€ê²½(_nuxt)ì— ëŒ€ë¹„í•˜ì—¬ fallback ê²½ë¡œë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.
      - name: forgeline-app ë¹Œë“œ ê²°ê³¼ë¬¼ì„ 'staging'ìœ¼ë¡œ ë³µì‚¬
        if: needs.changes.outputs.app == 'true' || contains(steps.deploy_targets.outputs.targets, 'forgeline-app') || contains(steps.deploy_targets.outputs.targets, 'all')
        run: |
          mkdir -p staging/forgeline-app
          cp -r packages/forgeline-app/.output/public/* staging/forgeline-app/ \
          || cp -r packages/forgeline-app/.output/public/_nuxt/* staging/forgeline-app/
          echo "ğŸ“¦ forgeline-app copied to staging."

      # -------------------------------------------------------------
      # GitHub Pages ì—…ë¡œë“œ ë° ë°°í¬
      # -------------------------------------------------------------
      # 18ë‹¨ê³„: ë°°í¬ ì•„í‹°íŒ©íŠ¸ ì—…ë¡œë“œ
      # 'staging' ë””ë ‰í† ë¦¬ì˜ ëª¨ë“  ë‚´ìš©ì„ GitHub Pages ë°°í¬ë¥¼ ìœ„í•œ ì•„í‹°íŒ©íŠ¸ë¡œ ì—…ë¡œë“œí•©ë‹ˆë‹¤.
      - name: staging ë””ë ‰í† ë¦¬ë¥¼ ë°°í¬ ì•„í‹°íŒ©íŠ¸ë¡œ ì—…ë¡œë“œ
        uses: actions/upload-pages-artifact@v3
        with:
          path: 'staging'

      # 19ë‹¨ê³„: GitHub Pagesì— ë°°í¬
      # ì—…ë¡œë“œëœ ì•„í‹°íŒ©íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ GitHub Pagesì— ìµœì¢…ì ìœ¼ë¡œ ë°°í¬í•©ë‹ˆë‹¤.
      - name: GitHub Pagesì— ë°°í¬
        id: deployment
        uses: actions/deploy-pages@v4
        with:
          # ì—…ë¡œë“œ ë‹¨ê³„ì™€ ë™ì¼í•œ ì•„í‹°íŒ©íŠ¸ ì´ë¦„ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
          artifact_name: github-pages
