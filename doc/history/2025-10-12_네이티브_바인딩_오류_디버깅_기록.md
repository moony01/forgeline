# 2025-10-12 네이티브 바인딩 오류 디버깅 기록

## 문제 현상

GitHub Actions의 CI/CD 워크플로우 실행 중, `pnpm install` 단계에서 `Cannot find native binding` 에러가 발생하며 `oxc-parser` 관련 의존성 설치에 실패함.

- 관련 에러 로그: `doc/history/2025-10-11_error.md`

## 원인 분석

`oxc-parser` 패키지는 각 운영체제 및 아키텍처에 맞는 네이티브 바이너리(.node 파일)를 필요로 합니다. CI 환경인 `ubuntu-latest`에서 해당 바이너리를 찾지 못할 경우, 소스 코드로부터 직접 컴파일을 시도합니다.

하지만 기본 Ubuntu 실행 환경에는 C++/Rust 등의 코드를 컴파일하는 데 필요한 `build-essential` 같은 빌드 도구 패키지가 없어 컴파일에 실패하고, 결과적으로 네이티브 바인딩을 찾을 수 없다는 에러가 발생했습니다.

## 해결 과정

1. `.github/workflows/deploy.yml` 파일을 분석했습니다.
2. `pnpm install` 명령이 실행되기 전에, 필요한 빌드 도구를 설치하는 단계가 이미 존재하는 것을 확인했습니다.

```yaml
- name: Install Build Dependencies
  run: sudo apt-get update && sudo apt-get install -y build-essential python3 python-is-python3
```

## 결론

- 에러의 원인은 CI 실행 환경에 네이티브 모듈 빌드 도구가 없었기 때문입니다.
- 이 문제는 `deploy.yml` 워크플로우에 `build-essential` 및 `python`을 설치하는 단계가 추가됨으로써 **이미 해결되었습니다.**
- `2025-10-11_error.md`에 기록된 에러는 해당 수정 사항이 적용되기 전의 로그입니다. 현재 CI/CD 파이프라인은 정상적으로 작동할 것으로 예상됩니다.
